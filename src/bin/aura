#! /usr/bin/env ruby


$git = __dir__ + "/../.."
$lib = "#$git/src/lib"

# require external libs
require 'optparse'
require 'fileutils'
require 'open3'
require 'net/http'
require 'open-uri'

# require internal libs
Dir["#$lib/base/*"].each do |file|
  require_relative file
end

Signal.trap('INT') { puts; exit 1 }
Cycle.go! "env"

unless $env.todo

  exit if $env.dump? or $env.toor?

  $stderr.puts "provide (one) package as an argument!"
  exit 1

end

Cycle.go! "install"
exit
# load the lifecycle
if $env.find?
  require_relative "#$lib/cycle/browse"
else
  require_relative "#$lib/cycle/install"
end
